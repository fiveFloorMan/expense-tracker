<div class="container mt-4">
  <div class="row justify-content-center">
    {{!-- Select Option --}}
    <div class="col-8">
      <form action="/" method="POST">
        <select name="categorySelectName" onchange="this.form.submit()" class="form-select" aria-label="Default select example">
          <option selected>請選擇你想要的類別</option>
            <option value="全部">全部</option>
            {{#each categoryList}}
              <option value="{{this}}">{{this}}</option>
            {{/each}}
        </select>      
      </form>
    </div>
    {{!-- Total Amount --}}
    <div class="col-8 mt-4">
      Total Amount: {{totalAmount}} 元
    </div>
    <div class="col-8 mt-4">
      <ul class="list-group">
        {{!-- Records --}}
        {{#each records}}
          <li class="list-group-item">
              <div class="row">
                {{!-- icon --}}
                <div class="d-flex col-1 align-items-center">
                  <i class="{{this.categoryId.icon}}" style="width: 4px;"></i>
                </div>
                {{!-- categoryName --}}
                <div class="d-flex col-2 align-items-center">
                  <span>{{this.categoryId.name}}</span>
                </div>
                {{!-- recordName & createDay--}}
                <div class="d-flex col-2 align-items-center">
                  <span>{{this.name}}<br>{{this.date}}</span>
                </div>
                {{!-- recordAmount --}}
                <div class="d-flex col-1 align-items-center">
                  <span>{{this.amount}}</span>
                </div>
                <div class="d-flex col-2 align-items-center"></div>
                {{!-- Edit --}}
                <form action="records/{{this._id}}/edit" method="GET" class="d-flex col-2 align-items-center mx-auto">
                  <button type="submit" class="btn btn-success">Edit</button>
                </form>
                {{!-- Delete --}}
                <form action="records/{{this._id}}/delete?_method=DELETE" method="POST" class="d-flex col-2 align-items-center">
                  <button type="submit" class="btn btn-danger">Delete</button>
                </form>
              </div>
          </li>
        {{/each}}
        {{!-- selectRecords --}}
        {{#each selectRecords}}
          <li class="list-group-item">
              <div class="row">
                {{!-- icon --}}
                <div class="d-flex col-1 align-items-center">
                  <i class="{{this.categoryId.icon}}" style="width: 4px;"></i>
                </div>
                {{!-- categoryName --}}
                <div class="d-flex col-2 align-items-center">
                  <span>{{this.categoryId.name}}</span>
                </div>
                {{!-- recordName & createDay--}}
                <div class="d-flex col-2 align-items-center">
                  <span>{{this.name}}<br>{{this.date}}</span>
                </div>
                {{!-- recordAmount --}}
                <div class="d-flex col-1 align-items-center">
                  <span>{{this.amount}}</span>
                </div>
                <div class="d-flex col-2 align-items-center"></div>
                {{!-- Edit --}}
                <form action="records/{{this._id}}/edit" method="GET" class="d-flex col-2 align-items-center">
                  <button type="submit" class="btn btn-success">Edit</button>
                </form>
                {{!-- Delete --}}
                <form action="records/{{this._id}}/delete?_method=DELETE" method="POST" class="d-flex col-2 align-items-center">
                  <button type="submit" class="btn btn-danger">Delete</button>
                </form>
              </div>
          </li>
        {{/each}}  
      </ul>
    </div>
    <div class="col-8 mt-4 mb-3">
      <a href="/records/new" class="btn btn-success">Create</a>
    </div>
  </div>
</div>
